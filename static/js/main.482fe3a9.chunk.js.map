{"version":3,"sources":["components/Messages.js","components/messages_de.js","components/messages_en.js","components/constants.js","components/api.js","components/Utils.js","components/HeaderSlim.js","components/Header.js","components/PageIndex.js","components/Footer.js","components/AlertBox.js","components/AuthForm.js","components/PageLogin.js","components/PageNetwork.js","components/PageProxy.js","components/Checkbox.js","components/PageTime.js","components/PageSnaps.js","components/SystemResources.js","components/PageServices.js","components/PageFactoryReset.js","App.js","index.js"],"names":["Constants","baseUrl","window","location","protocol","hostname","port","LoadingImage","languages","service","configGet","query","cancelCallback","axios","get","constants","loginRequest","post","factoryReset","networkGet","networkUpdate","iface","networkApply","proxyGet","proxyUpdate","timeGet","timeUpdate","t","ntp","time","timezone","servicesGet","systemResourcesGet","snapsGet","snapsSettingsUpdate","snap","settings","put","T","message","lang","getLanguage","Messages","checkSession","username","Cookies","sessionId","formatError","data","code","sessionStorage","getItem","links","HeaderSlim","props","handleLanguageChange","e","changeLanguage","target","value","state","config","snapControl","unshift","push","l","this","sectionId","section","key","className","role","href","language","map","label","id","onChange","options","defaultValue","src","alt","snapVersion","active","subsection","link","renderLoginOut","renderLanguage","Component","Header","Index","token","renderLogin","Footer","AlertBox","c","type","AuthForm","htmlFor","macAddress","appearance","onClick","Login","handleMacAddressChange","preventDefault","setState","handleSubmit","login","error","api","then","response","u","s","set","catch","console","log","renderError","methods","Network","getNetworkConfig","interfaces","filter","hideInterfaces","includes","interface","selected","length","getInterface","handleSelectTab","getAttribute","handleUseChange","use","handleWifiUseChange","isWifi","handleWifiSSIDChange","ssid","handleWifiPasswordChange","password","handleMethodChange","method","handleGatewayChange","gateway","handleAddressChange","address","handleMaskChange","mask","handleDNSChange","nameServers","split","handleSave","handleApply","matches","i","name","placeholder","data-key","class","tabindex","aria-controls","aria-selected","renderMessage","renderUse","disabled","renderWifi","m","toString","for","Proxy","getProxyConfig","p","proxy","handleHTTPChange","http","handleHTTPSChange","https","handleFTPChange","ftp","Checkbox","handleUnchecked","handleChecked","checked","Time","getTimeConfig","poll","setTimeout","bind","handleTimezoneChange","setField","handleNTPChange","handleTimeChange","timezones","field","Snaps","getSnaps","snaps","records","handleShowSettings","snapSettings","show","findSnap","JSON","stringify","parse","handleShowInfo","handleSettingsChange","handleSettingsUpdate","colSpan","rows","grow","title","source","description","channel","version","status","aria-hidden","renderSettings","renderInfo","chart","percent","nrOfLevels","arcsLength","colors","arcPadding","textColor","cornerRadius","SystemResources","callback","system","cpu","memory","disk","Services","getSystemResources","getServices","services","record","finally","srv","enabled","FactoryReset","reset","App","setItem","saveLanguage","r","parts","pathname","parseRoute","renderNetwork","renderProxy","renderTime","renderServices","renderSnaps","cfg","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.482fe3a9.chunk.js","sourcesContent":["/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport messages_de from \"./messages_de\";\nimport messages_en from \"./messages_en\";\n\nexport default {\n    'de': messages_de,\n    'en': messages_en,\n}\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n    'address': 'Adresse',\n    'address-help': 'IP adresse des Gerätes',\n    'apply': 'Anwenden',\n    'apply-desc': 'Die definierte Netzwerkkonfiguration im System anwenden. Dies kann dazu führen daß dieses Konfigurationsinterface nicht mehr erreichbar ist.',\n    'copyright': '© 2020 Canonical Ltd. Ubuntu und Canonical sind registrierte Handelsmarken von Canonical Ltd.',\n    'dhcp': 'DHCP',\n    'dns': 'Name servers (DNS)',\n    'dns-help': 'Kommaseparierte Liste von IP Adressen',\n    'en': 'Englisch',\n    'de': 'Deutsch',\n    'ftp': 'FTP',\n    'gateway': 'Gateway',\n    'get-started': 'Beginnen',\n    'http': 'HTTP',\n    'https': 'HTTPS',\n    'interface': 'Netzwerkkarte',\n    'interface-updated': 'Die Netzwerkkarte wurde erfolgreich aktualisiert.',\n    'legal': 'Rechtliche Informationen',\n    'login': 'Anmelden',\n    'login-description': 'Anmelden um das Gerät zu konfigurieren.',\n    'logout': 'Abmelden',\n    'macaddress': 'MAC Adresse',\n    'manual': 'Manuell',\n    'mask': 'Subnetz Maske',\n    'method': 'Methode',\n    'network': 'Netzwerk',\n    'network-config': 'Netzwerk Konfiguration',\n    'ntp': 'Systemuhr synchronisieren ',\n    'privacy': 'Datenschutz',\n    'proxy': 'Proxy',\n    'proxy-config': 'Proxy Konfiguration',\n    'proxy-help': 'IP Adresse und Port',\n    'proxy-updated': 'Anfrage zur Aktualisierung der Proxy Einstellungen gesendet',\n    'report-a-bug': 'Fehler auf der Seite melden',\n    'save': 'Speichern',\n    'select-interface': 'Gerät auswählen',\n    'service-status': 'Dienst Status',\n    'services': 'Dienste',\n    'site-description1': `Netzwekkarte konfigurieren`,\n    'site-description2': `Netzwerk Proxy Einstellungen konfigurieren`,\n    'site-description3': `Zeitzone des Gerätes einstellen`,\n    'site-description4': `Zeitserver konfigurieren`,\n    'submit': 'Absenden',\n    'subtitle': 'Konfiguration für Ubuntu Core Geräte.',\n    'sv': 'Schwedisch',\n    'time': 'Zeit',\n    'timezone': 'Zeitzone',\n    'time-config': 'Zeiteinstellungen konfigurieren',\n    'time-updated': 'Systemzeit Konfiguration wurde erfolgreich aktualisiert',\n    'title': 'Ubuntu Core Konfiguration',\n    'use': 'Gerät benutzen',\n}\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n    'address': 'Address',\n    'address-help': 'IP address of the interface',\n    'apply': 'Apply',\n    'apply-desc': 'Apply the current network configuration to the system. This may cause you to lose the connection to this configuration interface',\n    'copyright': '© 2020 Canonical Ltd. Ubuntu and Canonical are registered trademarks of Canonical Ltd.',\n    'dhcp': 'DHCP',\n    'disk': 'Disk',\n    'dns': 'Name servers (DNS)',\n    'dns-help': 'Comma-separated list of IP addresses',\n    'de': 'German',\n    'details': 'Details',\n    'en': 'English',\n    'ftp': 'FTP',\n    'gateway': 'Gateway',\n    'get-started': 'Get Started',\n    'http': 'HTTP',\n    'https': 'HTTPS',\n    'interface': 'Interface',\n    'interface-updated': 'The interface was updated successfully',\n    'legal': 'Legal information',\n    'login': 'Login',\n    'login-description': 'Login to configure the device.',\n    'logout': 'Logout',\n    'macaddress': 'MAC Address',\n    'manual': 'Manual',\n    'mask': 'Subnet mask',\n    'mask-help': 'The network prefix for address e.g. 24 (leave blank for default mask)',\n    'memory': 'Memory',\n    'method': 'Method',\n    'network': 'Network',\n    'network-config': 'Network Configuration',\n    'ntp': 'Synchronize system clock ',\n    'password': 'Password',\n    'password-help': 'Password to join the WiFi network',\n    'privacy': 'Privacy',\n    'processor': 'Processor',\n    'proxy': 'Proxy',\n    'proxy-config': 'Proxy Configuration',\n    'proxy-help': 'IP address and port',\n    'proxy-updated': 'Submitted request to update proxy settings',\n    'report-a-bug': 'Report a bug on this site',\n    'factory-reset': 'Factory Reset',\n    'factory-reset-desc': 'Reset the device to its factory state, losing all the current configuration. The device will reboot and this browser will lose its connection to the device. Enter the MAC address of one of the network interfaces to continue.',\n    'save': 'Save',\n    'select-interface': 'Select an interface',\n    'service-status': 'Service Status',\n    'services': 'Services',\n    'show-wifi': 'Is a WiFi interface',\n    'site-description1': `Configure the network interfaces`,\n    'site-description2': `Configure the network proxy settings`,\n    'site-description3': `Set the device time zone`,\n    'site-description4': `Configure network time server`,\n    'snaps': 'Snaps',\n    'snaps-config': 'Snap Configuration',\n    'snap-settings': 'Snap Settings',\n    'ssid': 'Network name (SSID)',\n    'ssid-help': 'The name (SSID) of the wireless network to join',\n    'submit': 'Submit',\n    'subtitle': 'Configuration service for Ubuntu Core devices.',\n    'sv': 'Swedish',\n    'time': 'Time',\n    'timezone': 'Time zone',\n    'time-config': 'Time Configuration',\n    'time-updated': 'Time configuration was updated successfully',\n    'title': 'Ubuntu Core Configuration',\n    'update': 'Update',\n    'use': 'Use the interface',\n    'view-settings': 'View settings',\n}","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst API_PREFIX = '/v1/'\n\nfunction getBaseURL() {\n    return window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + API_PREFIX;\n}\n\nlet Constants = {\n    baseUrl: getBaseURL(),\n    LoadingImage: '/static/images/ajax-loader.gif',\n    languages: ['de', 'en'],\n    //missingIcon: '/static/images/snapcraft-missing-icon.svg',\n}\n\nexport default Constants\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from 'axios'\nimport constants from './constants'\n\nlet service = {\n    configGet:  (query, cancelCallback) => {\n        return axios.get(constants.baseUrl + 'config');\n    },\n\n    loginRequest:  (query, cancelCallback) => {\n        return axios.post(constants.baseUrl + 'login', query);\n    },\n\n    factoryReset:  (query, cancelCallback) => {\n        return axios.post(constants.baseUrl + 'factory-reset', query);\n    },\n\n    networkGet: () => {\n        return axios.get(constants.baseUrl + 'network');\n    },\n\n    networkUpdate: (iface) => {\n        return axios.post(constants.baseUrl + 'network', iface);\n    },\n\n    networkApply: () => {\n        return axios.post(constants.baseUrl + 'network/apply');\n    },\n\n    proxyGet: () => {\n        return axios.get(constants.baseUrl + 'proxy');\n    },\n\n    proxyUpdate: (iface) => {\n        return axios.post(constants.baseUrl + 'proxy', iface);\n    },\n\n    timeGet: () => {\n        return axios.get(constants.baseUrl + 'time');\n    },\n\n    timeUpdate: (t) => {\n        return axios.post(constants.baseUrl + 'time', {ntp: t.ntp, time: t.time, timezone: t.timezone});\n    },\n\n    servicesGet: () => {\n        return axios.get(constants.baseUrl + 'services');\n    },\n\n    systemResourcesGet: () => {\n        return axios.get(constants.baseUrl + 'system');\n    },\n\n    snapsGet: () => {\n        return axios.get(constants.baseUrl + 'snaps');\n    },\n\n    snapsSettingsUpdate: (snap, settings) => {\n        return axios.put(constants.baseUrl + 'snaps/' + snap, settings);\n    },\n\n}\n\nexport default service","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Messages from './Messages'\nimport Cookies from 'js-cookie'\nimport api from \"./api\";\n\nexport function T(message) {\n    let lang = getLanguage()\n    const msg = Messages[lang][message] || message;\n    return msg\n}\n\nexport function getAppConfig(callback) {\n    api.configGet().then(response => {\n        let cfg = response.data.config\n        callback(cfg)\n    })\n    .catch(e => {\n        callback({})\n    })\n}\n\n\n// URL is in the form:\n//  /section\n//  /section/sectionId\n//  /section/sectionId/subsection\nexport function parseRoute() {\n    const parts = window.location.pathname.split('/')\n\n    switch (parts.length) {\n        case 2:\n            return {section: parts[1]}\n        case 3:\n            return {section: parts[1], sectionId: parts[2]}\n        case 4:\n            return {section: parts[1], sectionId: parts[2], subsection: parts[3]}\n        default:\n            return {}\n    }\n}\n\nexport function checkSession() {\n    let username = Cookies.get('username')\n    let sessionId = Cookies.get('sessionID')\n\n    if ((username) && (sessionId)) {\n        return true\n    }\n    return false\n}\n\nexport function setSession(u, s) {\n    Cookies.set('username', u)\n    Cookies.set('sessionID', s)\n}\n\nexport function formatError(data) {\n    let message = T(data.code);\n    if (data.message) {\n        message += ': ' + data.message;\n    }\n    return message;\n}\n\nexport function saveLanguage(l) {\n    sessionStorage.setItem('language', l);\n}\n\nexport function getLanguage() {\n    return sessionStorage.getItem('language') || 'en'\n}\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport {checkSession, getLanguage, T} from \"./Utils\";\nimport Constants from \"./constants\";\nimport {Select} from \"@canonical/react-components\";\n\n\nlet links = ['network','time'];\n\nclass HeaderSlim extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {};\n\n        if (this.props.config.snapControl) {\n            links.unshift('services','snaps','proxy')\n        }\n        if (this.props.config.factoryReset) {\n            links.push('factory-reset')\n        }\n    }\n\n    link(l) {\n        if (this.props.sectionId) {\n            // This is the secondary menu\n            return '/' + this.props.section + '/' + this.props.sectionId + '/' + l;\n        } else {\n            return '/' + l;\n        }\n    }\n\n    handleLanguageChange = (e) => {\n        this.props.changeLanguage(e.target.value)\n    }\n\n    renderLoginOut() {\n        if (checkSession()) {\n            return <li key={'logout'} className=\"p-navigation__link\" role=\"menuitem\"><a href=\"/logout\">{T(\"logout\")}</a></li>\n        } else {\n            return <li key={'login'} className=\"p-navigation__link\" role=\"menuitem\"><a href=\"/login\">{T(\"login\")}</a></li>\n        }\n    }\n\n    renderLanguage() {\n        let language = getLanguage()\n        let languages = Constants.languages.map(lang => {\n            return {value: lang, label: T(lang)}\n        })\n\n        return (\n            <li className=\"p-navigation__link\">\n                <form id=\"lang-form\">\n                    <Select onChange={this.handleLanguageChange} options={languages} defaultValue={language} />\n                </form>\n            </li>\n        )\n    }\n\n    render() {\n        return (\n            <header id=\"navigation\" className=\"p-navigation header-slim\">\n                <div className=\"p-navigation__banner row\">\n                    <div className=\"p-navigation__logo\">\n                        <div className=\"u-vertically-center\">\n                            <a href=\"/\" className=\"p-navigation__link\">\n                                <img src=\"/static/images/logo.png\" alt=\"ubuntu\" />\n                            </a>\n                        </div>\n                        <div className=\"system\">\n                            <span>{this.props.config.snapVersion}</span>\n                        </div>\n                    </div>\n\n                    <nav className=\"p-navigation__nav\">\n                        <span className=\"u-off-screen\"><a href=\"#navigation\">Jump to site</a></span>\n                        <ul className=\"p-navigation__links\" role=\"menu\">\n                            {links.map((l) => {\n                                var active = '';\n                                if ((this.props.section === l) || (this.props.subsection === l)) {\n                                    active = ' active'\n                                }\n                                return (\n                                    <li key={l} className={'p-navigation__link' + active} role=\"menuitem\"><a href={this.link(l)}>{T(l)}</a></li>\n                                )\n                            })}\n                            {this.renderLoginOut()}\n                            {this.renderLanguage()}\n                        </ul>\n                    </nav>\n                </div>\n            </header>\n        );\n    }\n}\n\nexport default HeaderSlim;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport HeaderSlim from \"./HeaderSlim\";\nimport {T} from './Utils'\n\n\nclass Header extends Component {\n    render() {\n        return (\n            <div>\n                <HeaderSlim section={this.props.section} subsection={this.props.subsection} sectionId={this.props.sectionId} config={this.props.config} changeLanguage={this.props.changeLanguage} />\n                <section className=\"p-strip--image is-dark header\">\n                    <div className=\"row\">\n                        <div className=\"col-5 title\">\n                            <h1>{T('title')}</h1>\n                            <p>{T('subtitle')}</p>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Header;\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport {T, checkSession} from './Utils'\n\nclass Index extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            token: props.token || {},\n        }\n    }\n\n    renderLogin() {\n        if (!checkSession()) {\n            return <a className=\"p-button--brand\" href=\"/login\" alt=\"\">{T('login')}</a>\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"row\">\n\n                <section className=\"row\">\n                    <div className=\"row\">\n                        <div className=\"first\">\n                            <h2>{T('get-started')}</h2>\n                            <ul className=\"p-list\">\n                                <li className=\"p-list__item is-ticked\">{T('site-description1')}</li>\n                                <li className=\"p-list__item is-ticked\">{T('site-description2')}</li>\n                                <li className=\"p-list__item is-ticked\">{T('site-description3')}</li>\n                                <li className=\"p-list__item is-ticked\">{T('site-description4')}</li>\n                            </ul>\n                            {this.renderLogin()}\n                        </div>\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Index;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport {T} from './Utils'\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div id=\"footer\">\n                <div className=\"row footer\">\n                    <p>{T('copyright')}</p>\n                    <nav className=\"p-footer__nav\" role=\"navigation\">\n                        <ul className=\"p-footer__links\">\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://ubuntu.com/legal\">{T('legal')}</a>\n                            </li>\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://ubuntu.com/legal/data-privacy\">{T('privacy')}</a>\n                            </li>\n                            <li className=\"p-footer__item\">\n                                <a className=\"p-footer__link\" href=\"https://github.com/CanonicalLtd/device-config/issues/new\">{T('report-a-bug')}</a>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Footer;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\n\n\nclass AlertBox extends Component {\n    render() {\n        if (this.props.message) {\n            var c = 'p-notification--';\n            if (this.props.type) {\n                c = c + this.props.type;\n            } else {\n                c = c + 'negative';\n            }\n\n            return (\n                <div className={c}>\n                    <p className=\"p-notification__response\">{this.props.message}</p>\n                </div>\n            );\n        } else {\n            return <span />;\n        }\n    }\n}\n\nexport default AlertBox;","import React from 'react';\nimport {T} from \"./Utils\";\nimport {Form, Input, Button} from \"@canonical/react-components\";\n\nfunction AuthForm(props) {\n    return (\n        <Form>\n            <label htmlFor=\"macaddress\">{T('macaddress')}:</label>\n            <Input id=\"macaddress\" type=\"text\" value={props.macAddress} onChange={props.onChange} />\n            <Button appearance=\"positive\" onClick={props.onClick}>{T(\"submit\")}</Button>\n        </Form>\n    );\n}\n\nexport default AuthForm;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport api from './api';\nimport {T, setSession} from './Utils';\nimport AlertBox from './AlertBox';\nimport AuthForm from \"./AuthForm\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            macAddress: '',\n            error: '',\n        };\n    }\n\n    handleMacAddressChange = (e) => {\n        e.preventDefault()\n        this.setState({macAddress: e.target.value})\n    }\n\n    login() {\n        api.loginRequest({macAddress: this.state.macAddress}).then(response => {\n            setSession(response.data.username, response.data.sessionId)\n            window.location.href = \"/\"\n        }).catch(e => {\n            console.log(e.response)\n            this.setState({error: T(e.response.data.code) + \": \" + e.response.data.message})\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        this.login()\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return (\n                <AlertBox message={this.state.error} />\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"row\">\n                    <h2>{T(\"login\")}</h2>\n                    <p>{T(\"login-description\")}</p>\n                </div>\n\n                {this.renderError()}\n                <AuthForm macAddress={this.state.macAddress} onChange={this.handleMacAddressChange} onClick={this.handleSubmit} />\n            </div>\n        );\n    }\n}\n\nexport default Login;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport {formatError, T} from './Utils';\nimport AlertBox from './AlertBox';\nimport api from \"./api\"\n\nconst methods = ['dhcp', 'manual']\n\nclass Network extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            selected: null,\n            interfaces: [],\n            interface: {},\n            error: '',\n            message: '',\n        };\n    }\n\n    componentDidMount() {\n        this.getNetworkConfig()\n    }\n\n    getNetworkConfig = () => {\n        api.networkGet().then(response => {\n            // Skip the hidden interfaces\n            let interfaces = response.data.interfaces.filter(iface => {\n                return !this.props.config.hideInterfaces.includes(iface.interface)\n            })\n\n            this.setState({interfaces: interfaces, error: ''})\n\n            if ((!this.state.selected) && (response.data.interfaces.length > 0)) {\n                this.getInterface(interfaces[0].interface)\n                this.setState({selected: interfaces[0].interface})\n            }\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data)});\n        })\n    }\n\n    handleSelectTab = (e) => {\n        e.preventDefault()\n        let iface = e.target.getAttribute('data-key')\n        this.getInterface(iface)\n        this.setState({selected: iface, error: '', message:''})\n    }\n\n    handleUseChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.use = !iface.use\n        this.setState({interface: iface})\n    }\n\n    handleWifiUseChange = (e) => {\n        e.preventDefault()\n        let iface =  this.state.interface\n        iface.isWifi = !iface.isWifi\n        this.setState({interface: iface})\n    }\n\n    handleWifiSSIDChange = (e) => {\n        e.preventDefault()\n        let iface =  this.state.interface\n        iface.ssid = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleWifiPasswordChange = (e) => {\n        e.preventDefault()\n        let iface =  this.state.interface\n        iface.password = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleMethodChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.method = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleGatewayChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.gateway = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleAddressChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.address = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleMaskChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.mask = e.target.value\n        this.setState({interface: iface})\n    }\n\n    handleDNSChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.interface\n        iface.nameServers = e.target.value.split(',')\n        this.setState({interface: iface})\n    }\n\n    handleSave = (e) => {\n        e.preventDefault()\n\n        // Save the interface config\n        api.networkUpdate(this.state.interface).then(response => {\n            this.getNetworkConfig()\n            this.setState({message: T('interface-updated'), error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n    handleApply = (e) => {\n        e.preventDefault()\n\n        // Apply the config\n        api.networkApply().then(response => {\n            this.getNetworkConfig()\n            this.setState({message: T('interface-updated'), error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n    getInterface(iface) {\n        let matches = this.state.interfaces.filter(i => {\n            return i.interface===iface\n        })\n        if (matches.length>0) {\n            this.setState({interface: matches[0]})\n        }\n    }\n\n    renderUse() {\n        if (this.state.interface.use) {\n            return (\n                <div>\n                    <a href=\"#use\" className=\"p-button--base has-icon\" onClick={this.handleUseChange}><img src=\"/static/images/checkbox_checked_16.png\" alt=\"checked\" /></a>\n                    <span>{T('use')}</span>\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <a href=\"#use\" className=\"p-button--base has-icon\" onClick={this.handleUseChange}><img src=\"/static/images/checkbox_unchecked_16.png\" alt=\"unchecked\"  /></a>\n                    <span>{T('use')}</span>\n                </div>\n            )\n        }\n    }\n\n    renderWifi() {\n        if (!this.state.interface.isWifi) {\n            return (\n                <div>\n                    <a href=\"#wifi\" className=\"p-button--base has-icon\" onClick={this.handleWifiUseChange}><img src=\"/static/images/checkbox_unchecked_16.png\" alt=\"checked\" /></a>\n                    <span>{T('show-wifi')}</span>\n                </div>\n            )\n        };\n\n        return (\n            <div>\n                <a href=\"#wifi\" className=\"p-button--base has-icon\" onClick={this.handleWifiUseChange}><img src=\"/static/images/checkbox_checked_16.png\" alt=\"unchecked\"  /></a>\n                <span>{T('show-wifi')}</span>\n                <label htmlFor={\"ssid\"}>{T('ssid')}:</label>\n                <input name=\"ssid\" type=\"text\" value={this.state.interface.ssid} placeholder={T('ssid-help')} onChange={this.handleWifiSSIDChange}/>\n                <label htmlFor={\"password\"}>{T('password')}:</label>\n                <input name=\"password\" type=\"password\" value={this.state.interface.password} placeholder={T('password-help')} onChange={this.handleWifiPasswordChange}/>\n            </div>\n        )\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return <AlertBox type=\"positive\" message={this.state.message}/>\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <AlertBox message={this.state.error}/>\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{T('network-config')}</h2>\n\n                <section className=\"row\">\n                    <div>\n                        <nav className=\"p-tabs\">\n                            <ul className=\"p-tabs__list\" role=\"tablist\">\n                            {this.state.interfaces.map((iface) => {\n                                let selected = \"false\"\n                                if (this.state.selected===iface.interface) {\n                                    selected = \"true\"\n                                }\n                                return (<li className=\"p-tabs__item\" role=\"presentation\">\n                                    <a href={'#'+iface.interface} data-key={iface.interface} onClick={this.handleSelectTab} class=\"p-tabs__link\" tabindex=\"0\" role=\"tab\" aria-controls=\"section1\" aria-selected={selected}>{iface.interface}</a>\n                                </li>)\n                            })}\n                            </ul>\n                        </nav>\n                    </div>\n                    <div>\n                        {this.renderMessage()}\n                        {this.renderError()}\n                        {this.state.interface.interface ?\n                            <form>\n                                {this.renderUse()}\n                                <fieldset disabled={!this.state.interface.use}>\n                                    <h3>{T('interface')} {this.state.interface.interface}</h3>\n                                    {this.renderWifi()}\n                                    <label htmlFor={\"method\"}>{T('method')}:</label>\n                                    <select value={this.state.interface.method} onChange={this.handleMethodChange}>\n                                        <option/>\n                                        {methods.map((m) => {\n                                            return <option value={m}>{T(m)}</option>\n                                        })}\n                                    </select>\n                                    <label htmlFor={\"nameServers\"}>{T('dns')}:</label>\n                                    <input name=\"nameServers\" type=\"text\" onChange={this.handleDNSChange}\n                                           value={this.state.interface.nameServers ? this.state.interface.nameServers.toString() : ''} placeholder={T('dns-help')} />\n                                    <label htmlFor={\"address\"}>{T('address')}:</label>\n                                    <input name=\"address\" type=\"text\" value={this.state.interface.address} placeholder={T('address-help')} onChange={this.handleAddressChange}/>\n                                    <label htmlFor={\"mask\"}>{T('mask')}:</label>\n                                    <input name=\"mask\" type=\"text\" value={this.state.interface.mask} onChange={this.handleMaskChange} placeholder={T('mask-help')}/>\n                                    <label for={\"gateway\"}>{T('gateway')}:</label>\n                                    <input name=\"gateway\" type=\"text\" value={this.state.interface.gateway} onChange={this.handleGatewayChange}/>\n                                </fieldset>\n                                <button onClick={this.handleSave} className=\"p-button--positive\">{T('save')}</button>\n                            </form>\n                            :\n                            <h4>{T('select-interface')}</h4>\n                        }\n                    </div>\n                    <div className=\"row\">\n                        <p className=\"col-10\">{T('apply-desc')}</p>\n                        <button onClick={this.handleApply} className=\"p-button--brand col-2\">{T('apply')}</button>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n\n}\n\nexport default Network;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport {formatError, T} from \"./Utils\";\nimport AlertBox from \"./AlertBox\";\nimport api from \"./api\";\n\nclass Proxy extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            proxy: {},\n            error: '',\n            message: '',\n        };\n    }\n\n    componentDidMount() {\n        this.getProxyConfig()\n    }\n\n    getProxyConfig = () => {\n        api.proxyGet().then(response => {\n            let p = response.data.proxy\n            if (!p) {\n                p = {}\n            }\n\n            this.setState({proxy: p, message: ''})\n        })\n        .catch(e => {\n            this.setState({message: formatError(e.response.data)});\n        })\n    }\n\n    handleHTTPChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.proxy\n        iface.http = e.target.value\n        this.setState({proxy: iface})\n    }\n\n    handleHTTPSChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.proxy\n        iface.https = e.target.value\n        this.setState({proxy: iface})\n    }\n\n    handleFTPChange = (e) => {\n        e.preventDefault()\n        let iface = this.state.proxy\n        iface.ftp = e.target.value\n        this.setState({proxy: iface})\n    }\n\n    handleSave = (e) => {\n        e.preventDefault()\n\n        // Save the proxy config\n        api.proxyUpdate(this.state.proxy).then(response => {\n            this.setState({message: T('proxy-updated'), error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n\n    renderMessage() {\n        if (this.state.message) {\n            return <AlertBox type=\"positive\" message={this.state.message}/>\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <AlertBox message={this.state.error}/>\n        }\n    }\n    render() {\n        return (\n            <div>\n                <h2>{T('proxy-config')}</h2>\n\n                <section className=\"row\">\n                    {this.renderMessage()}\n                    {this.renderError()}\n                    <form>\n                        <fieldset>\n                        <label htmlFor={\"http\"}>{T('http')}:</label>\n                        <input name=\"http\" type=\"text\" value={this.state.proxy.http} onChange={this.handleHTTPChange}\n                            placeholder={T('proxy-help')}/>\n                        <label htmlFor={\"https\"}>{T('https')}:</label>\n                        <input name=\"https\" type=\"text\" value={this.state.proxy.https} onChange={this.handleHTTPSChange}\n                               placeholder={T('proxy-help')}/>\n                        <label htmlFor={\"ftp\"}>{T('ftp')}:</label>\n                        <input name=\"ftp\" type=\"text\" value={this.state.proxy.ftp} onChange={this.handleFTPChange}\n                               placeholder={T('proxy-help')}/>\n\n                        <button onClick={this.handleSave} className=\"p-button--positive\">{T('save')}</button>\n                        </fieldset>\n                    </form>\n                </section>\n\n            </div>\n        );\n    }\n}\n\nexport default Proxy;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport {T} from \"./Utils\";\n\nclass Checkbox extends Component {\n    handleUnchecked  = (e) => {\n        e.preventDefault()\n        this.props.onChange(false)\n    }\n\n    handleChecked  = (e) => {\n        e.preventDefault()\n        this.props.onChange(true)\n    }\n\n    render() {\n        if (this.props.checked) {\n            return (\n                <div>\n                    <a href=\"#select\" className=\"p-button--base has-icon\" onClick={this.handleUnchecked}><img src=\"/static/images/checkbox_checked_16.png\" alt=\"checked\" /></a>\n                    <span>{T(this.props.label)}</span>\n                </div>\n            )\n        } else {\n            return (\n                <div>\n                    <a href=\"#select\" className=\"p-button--base has-icon\" onClick={this.handleChecked}><img src=\"/static/images/checkbox_unchecked_16.png\" alt=\"unchecked\"  /></a>\n                    <span>{T(this.props.label)}</span>\n                </div>\n            )\n        }\n    }\n}\n\nexport default Checkbox;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport api from \"./api\";\nimport {formatError, T} from \"./Utils\";\nimport AlertBox from \"./AlertBox\";\nimport Checkbox from \"./Checkbox\";\n\nclass Time extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            time: {timezones: []},\n            error: '',\n            message: '',\n        };\n    }\n\n    componentDidMount() {\n        this.getTimeConfig()\n    }\n\n    getTimeConfig = () => {\n        api.timeGet().then(response => {\n            this.setState({time: response.data.time, error: ''})\n        })\n        .catch(e => {\n            this.setState({message: formatError(e.response.data)});\n        })\n    }\n\n    poll = () => {\n        // Poll every second\n        setTimeout(this.getTimeConfig.bind(this), 1000);\n    }\n\n    setField(field, value) {\n        let t = this.state.time\n        t[field] = value\n        this.setState({time: t})\n    }\n\n    handleTimezoneChange = (e) => {\n        e.preventDefault()\n        this.setField('timezone', e.target.value)\n    }\n\n    handleNTPChange = (value) => {\n        this.setField('ntp', value)\n    }\n\n    handleTimeChange = (e) => {\n        e.preventDefault()\n        this.setField('time', e.target.value)\n    }\n\n    handleSave = (e) => {\n        e.preventDefault()\n\n        // Save the time config\n        api.timeUpdate(this.state.time).then(response => {\n            this.getTimeConfig()\n            this.setState({message: T('time-updated'), error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return <AlertBox type=\"positive\" message={this.state.message}/>\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <AlertBox message={this.state.error}/>\n        }\n    }\n\n    render() {\n\n        return (\n            <div>\n                <h2>{T('time-config')}</h2>\n\n                <section className=\"row\">\n                    {this.renderMessage()}\n                    {this.renderError()}\n                    <form>\n                        <fieldset>\n                            <label htmlFor={\"timezone\"}>{T('timezone')}:</label>\n                            <select value={this.state.time.timezone} onChange={this.handleTimezoneChange} placeholder={T('timezone-help')}>\n                                <option/>\n                                {this.state.time.timezones.map((m) => {\n                                    return <option value={m}>{T(m)}</option>\n                                })}\n                            </select>\n\n                            <Checkbox label={T('ntp')} checked={this.state.time.ntp} onChange={this.handleNTPChange} />\n                            <label htmlFor={\"time\"}>{T('time')}:</label>\n                            <input name=\"time\" type=\"text\" value={this.state.time.time} onChange={this.handleTimeChange}\n                                   placeholder={T('time-help')} disabled={this.state.time.ntp}/>\n\n                            <button onClick={this.handleSave} className=\"p-button--positive\">{T('save')}</button>\n                        </fieldset>\n                    </form>\n                </section>\n            </div>\n        );\n    }\n}\n\n\nexport default Time;\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport {formatError, T} from \"./Utils\";\nimport api from \"./api\";\nimport AlertBox from \"./AlertBox\";\nimport {Button, Card, Textarea} from \"@canonical/react-components\";\nimport ReactMarkDown from \"react-markdown\"\n\n\nclass Snaps extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            //snaps: [{\"name\":\"pc-kernel\",description:\"**Note: you do not need to install _snapd_ manually if you already have _snap_ installed.** Snaps are app packages for desktop, cloud and IoT that update automatically\",\"installedSize\":220545024,\"installedDate\":\"2020-06-10T07:03:52.564637288Z\",\"status\":\"active\",\"channel\":\"18/stable\",\"confinement\":\"strict\",\"version\":\"4.15.0-106.107\",\"revision\":529,\"devmode\":false,\"config\":\"{}\"},{\"name\":\"snapd\",\"installedSize\":31272960,\"installedDate\":\"2020-06-16T23:20:18.759193735Z\",\"status\":\"active\",\"channel\":\"latest/stable\",\"confinement\":\"strict\",\"version\":\"2.45.1\",\"revision\":8140,\"devmode\":false,\"config\":\"{}\"}],\n            snaps: [],\n            settings: {},\n            show: '',\n        };\n\n    }\n\n    componentDidMount() {\n        this.getSnaps()\n    }\n\n    getSnaps = () => {\n        api.snapsGet().then(response => {\n            this.setState({snaps: response.data.records, error: '', message: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n    findSnap(name) {\n        return this.state.snaps.filter( s => s.name===name)[0]\n    }\n\n    handleShowSettings = (e) => {\n        e.preventDefault();\n        var snap = e.target.getAttribute('data-key');\n        if ((this.state.snapSettings === snap) && (this.state.show==='settings')) {\n            this.setState({snapSettings: null, settings: {}, show:''})\n        } else {\n            var s = this.findSnap(snap)\n            if (s.config.length===0) {\n                s.config = '{}'\n            }\n            var settings = JSON.stringify( JSON.parse(s.config), null, 2) // pretty print\n            this.setState({snapSettings: snap, settings: settings, show:'settings'})\n        }\n    }\n\n    handleShowInfo = (e) => {\n        e.preventDefault();\n        let snap = e.target.getAttribute('data-key');\n        if ((this.state.snapSettings === snap) && (this.state.show==='info')) {\n            this.setState({snapSettings: null, settings: {}, show:''})\n        } else {\n            let s = this.findSnap(snap)\n            if (s.config.length===0) {\n                s.config = '{}'\n            }\n            this.setState({snapSettings: snap, settings: {}, show:'info'})\n        }\n    }\n\n    handleSettingsChange = (e) => {\n        e.preventDefault();\n        this.setState({settings: e.target.value})\n    }\n\n    handleSettingsUpdate = (e) => {\n        e.preventDefault();\n        var snap = e.target.getAttribute('data-key');\n\n        api.snapsSettingsUpdate(snap, this.state.settings).then(response => {\n            this.setState({snapSettings: null, message: 'Sent request to update snap: ' + snap, error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data), message: ''});\n        })\n    }\n\n    renderSettings(snap) {\n        if (this.state.show !== 'settings') {\n            return\n        }\n        if (snap.name !== this.state.snapSettings) {\n            return\n        }\n\n        return (\n            <tr>\n                <td colSpan=\"5\">\n                    <form>\n                        <fieldset>\n                            <Textarea label={T('snap-settings')} rows=\"4\" grow={true} defaultValue={this.state.settings} data-key={this.state.snapSettings} onChange={this.handleSettingsChange} />\n                        </fieldset>\n                        <button className=\"p-button--brand\" onClick={this.handleSettingsUpdate} data-key={snap.name}>{T('update')}</button>\n                    </form>\n                </td>\n            </tr>\n        )\n    }\n\n    renderInfo(snap) {\n        if (this.state.show !== 'info') {\n            return\n        }\n        if (snap.name !== this.state.snapSettings) {\n            return\n        }\n\n        return (\n            <tr>\n                <td colSpan=\"5\">\n                    <Card title={snap.title || snap.name}>\n                        <ReactMarkDown source={snap.description} />\n                    </Card>\n                </td>\n            </tr>\n        )\n    }\n\n    renderMessage() {\n        if (this.state.message) {\n            return <AlertBox type=\"positive\" message={this.state.message}/>\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <AlertBox message={this.state.error}/>\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{T('snaps-config')}</h2>\n\n                <section className=\"row\">\n                    {this.renderMessage()}\n                    {this.renderError()}\n                    <table className=\"p-card__content\">\n                        <thead>\n                        <tr>\n                            <th className=\"small\">{T('snap')}</th><th className=\"small\">{T('channel')}</th><th>{T('version')}</th><th className=\"xsmall\">{T('status')}</th>\n                            <th className=\"small\">{T('details')}</th>\n                        </tr>\n                        </thead>\n                        {this.state.snaps.map((s) => {\n                            var c = '';\n                            if (s.name === this.state.snapSettings) {\n                                c = 'borderless'\n                            }\n                            return (\n                                <tbody key={s.name}>\n                                <tr className={c}>\n                                    <td title={s.description}>{s.name}</td>\n                                    <td>{s.channel}</td>\n                                    <td>{s.version}</td>\n                                    <td>{s.status}</td>\n                                    <td>\n                                        <Button data-key={s.name} onClick={this.handleShowInfo}>\n                                            <i className=\"p-icon--information\" aria-hidden=\"true\" data-key={s.name} />\n                                        </Button>\n                                        <button className=\"p-button--neutral small\" title={T('view-settings')} data-key={s.name} onClick={this.handleShowSettings}>\n                                            <i className=\"p-icon--menu\" aria-hidden=\"true\" data-key={s.name} />\n                                        </button>\n                                    </td>\n                                </tr>\n                                {this.renderSettings(s)}\n                                {this.renderInfo(s)}\n                                </tbody>\n                            )\n                        })}\n                    </table>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Snaps;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React from 'react';\nimport GaugeChart from 'react-gauge-chart'\nimport {Row} from \"@canonical/react-components\";\nimport {T} from \"./Utils\";\n\n\nfunction chart(id, percent) {\n    return (\n        <div className=\"col-2\">\n            <h5>{T(id)}</h5>\n            <GaugeChart id={id}\n                        nrOfLevels={420}\n                        arcsLength={[0.3, 0.5, 0.2]}\n                        colors={['#1c6a08', '#d8d404', '#af1904']}\n                        percent={percent/100.0}\n                        arcPadding={0.0}\n                        textColor={'#2d2d2d'}\n                        cornerRadius={0}\n            />\n        </div>\n    )\n\n}\n\nfunction SystemResources(props) {\n    return (\n        <Row className=\"u-align--center\">\n            <div className=\"col-3\"></div>\n            {chart(\"processor\", props.system.cpu)}\n            {chart(\"memory\", props.system.memory)}\n            {chart(\"disk\", props.system.disk)}\n        </Row>\n    );\n}\n\nexport default SystemResources;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport api from \"./api\";\nimport {formatError, T} from \"./Utils\";\nimport AlertBox from \"./AlertBox\";\nimport SystemResources from \"./SystemResources\";\n\nclass Services extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            system: {cpu:0, memory:0, disk:0},\n            services: [],\n            error: '',\n        };\n    }\n\n    componentDidMount() {\n        this.getServices()\n        this.getSystemResources()\n    }\n\n    poll = () => {\n        // Polls every 2s\n        setTimeout(this.getSystemResources.bind(this), 2000);\n    }\n\n    getServices = () => {\n        api.servicesGet().then(response => {\n            this.setState({services: response.data.services, error: ''})\n        })\n        .catch(e => {\n            this.setState({error: formatError(e.response.data)});\n        })\n    }\n\n    getSystemResources() {\n        api.systemResourcesGet().then(response => {\n            this.setState({system: response.data.record})\n        })\n            .catch(e => {\n                console.log(formatError(e.response.data))\n                this.setState({error: formatError(e.response.data), message: ''});\n            })\n            .finally( ()=> {\n                this.poll()\n            })\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <AlertBox message={this.state.error}/>\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{T('service-status')}</h2>\n\n                <section>\n                    <SystemResources system={this.state.system} />\n                </section>\n\n                <section className=\"row\">\n                    {this.renderError()}\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>{T('name')}</th>\n                                <th>{T('service')}</th>\n                                <th className=\"xsmall u-align-text--center\">{T('enabled')}</th>\n                                <th className=\"xsmall u-align-text--center\">{T('active')}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                        {this.state.services.map(srv => {\n                            return (<tr>\n                                <td>{srv.snap}</td>\n                                <td>{srv.name}</td>\n                                <td>{srv.enabled ? <div className=\"led-green\"></div> : <div className=\"led-yellow\"></div> }</td>\n                                <td>{srv.active ? <div className=\"led-green\"></div> : <div className=\"led-red\"></div>}</td>\n                            </tr>)\n                        })}\n                        </tbody>\n                    </table>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default Services;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, {Component} from 'react';\nimport {T} from \"./Utils\";\nimport AuthForm from \"./AuthForm\";\nimport AlertBox from \"./AlertBox\";\nimport api from \"./api\";\n\nclass FactoryReset extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            macAddress: '',\n            error: '',\n        };\n    }\n\n    reset() {\n        api.factoryReset({macAddress: this.state.macAddress}).then(response => {\n            // Will trigger a reboot\n        }).catch(e => {\n            console.log(e.response)\n            this.setState({error: T(e.response.data.code) + \": \" + e.response.data.message})\n        })\n    }\n\n    handleMacAddressChange = (e) => {\n        e.preventDefault()\n        this.setState({macAddress: e.target.value})\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        this.reset()\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return (\n                <AlertBox message={this.state.error} />\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{T('factory-reset')}</h2>\n                <p>{T('factory-reset-desc')}</p>\n\n                {this.renderError()}\n                <AuthForm macAddress={this.state.macAddress} onChange={this.handleMacAddressChange} onClick={this.handleSubmit} />\n            </div>\n        );\n    }\n}\n\nexport default FactoryReset;","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React, { Component } from 'react';\nimport Header from './components/Header';\nimport HeaderSlim from './components/HeaderSlim';\nimport Index from './components/PageIndex';\nimport Footer from './components/Footer';\nimport Login from './components/PageLogin';\nimport {getLanguage, parseRoute, saveLanguage} from './components/Utils'\n\nimport Network from \"./components/PageNetwork\";\nimport Proxy from \"./components/PageProxy\";\nimport Time from \"./components/PageTime\";\nimport Snaps from \"./components/PageSnaps\";\nimport Services from \"./components/PageServices\";\nimport FactoryReset from \"./components/PageFactoryReset\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n        language: getLanguage(),\n        proxy: {},\n    }\n  }\n\n  changeLanguage = (l) => {\n      saveLanguage(l)\n      this.setState({language: l})\n  }\n\n  renderLogin() {\n      return <Login />\n  }\n\n  renderNetwork(sectionId, subsection) {\n      if (!sectionId) {\n          return <Network config={this.props.config} />\n      }\n  }\n\n  renderProxy(sectionId, subsection) {\n    if (!sectionId) {\n        return <Proxy />\n    }\n  }\n\n  renderTime(sectionId, subsection) {\n    if (!sectionId) {\n        return <Time />\n    }\n  }\n\n    renderSnaps(sectionId, subsection) {\n        if (!sectionId) {\n            return <Snaps />\n        }\n    }\n\n    renderServices(sectionId, subsection) {\n        if (!sectionId) {\n            return <Services />\n        }\n    }\n\n  render() {\n    const r = parseRoute()\n\n    return (\n        <div className=\"App\">\n          {r.section===''? <Header section={r.section} subsection={r.subsection} sectionId={r.sectionId} config={this.props.config} changeLanguage={this.changeLanguage} /> : ''}\n          {r.section!==''? <HeaderSlim section={r.section} subsection={r.subsection} sectionId={r.sectionId} config={this.props.config} changeLanguage={this.changeLanguage} /> : ''}\n\n          <div className=\"content row\">\n            {r.section===''? <Index /> : ''}\n            {r.section==='login'? this.renderLogin() : ''}\n            {r.section==='network'? this.renderNetwork(r.sectionId, r.subsection) : ''}\n            {r.section==='proxy'? this.renderProxy(r.sectionId, r.subsection) : ''}\n            {r.section==='time'? this.renderTime(r.sectionId, r.subsection) : ''}\n            {r.section==='services'? this.renderServices(r.sectionId, r.subsection) : ''}\n            {r.section==='snaps'? this.renderSnaps(r.sectionId, r.subsection) : ''}\n            {r.section==='factory-reset'? <FactoryReset /> : ''}\n          </div>\n\n          <Footer />\n        </div>\n    );\n  }\n\n}\n\nexport default App;\n","/*\n * Copyright (C) 2020 Canonical Ltd\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 3 as\n * published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport {getAppConfig} from \"./components/Utils\";\n\n\ngetAppConfig( (cfg) => {\n    ReactDOM.render(<App config={cfg} />, document.getElementById('root'));\n})"],"sourceRoot":""}